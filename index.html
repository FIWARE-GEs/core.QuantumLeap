<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="An NGSI to TSDB Adapter to allow processing of Historical Data.">
  
  <link rel="shortcut icon" href="./img/favicon.ico">
  <title>Home - QuantumLeap</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="./css/theme.css" type="text/css" />
  <link rel="stylesheet" href="./css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="./css/highlight.css">
  <link href="https://fiware.org/style/fiware_readthedocs.css" rel="stylesheet">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Home";
    var mkdocs_page_input_path = "index.md";
    var mkdocs_page_url = "/";
  </script>
  
  <script src="./js/jquery-2.1.1.min.js"></script>
  <script src="./js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="./js/highlight.pack.js"></script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="." class="icon icon-home"> QuantumLeap</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="./search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1 current">
		
    <a class="current" href=".">Home</a>
    <ul class="subnav">
            
    <li class="toctree-l2"><a href="#quantumleap">QuantumLeap</a></li>
    
        <ul>
        
            <li><a class="toctree-l3" href="#overview">Overview</a></li>
        
            <li><a class="toctree-l3" href="#typical-usage-and-how-it-works">Typical Usage and How it works</a></li>
        
            <li><a class="toctree-l3" href="#more-information">More information</a></li>
        
        </ul>
    

    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">User & Programmers Manual</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="user/">Introduction</a>
                </li>
                <li class="">
                    
    <a class="" href="user/troubleshooting/">Troubleshooting</a>
                </li>
                <li class="">
                    
    <a class="" href="user/contributing/">Contributing</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Installation & Administration Manual</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="admin/">Introduction</a>
                </li>
                <li class="">
                    
    <a class="" href="admin/check/">Sanity Check</a>
                </li>
                <li class="">
                    
    <a class="" href="admin/ports/">Ports</a>
                </li>
                <li class="">
                    
    <a class="" href="admin/crate/">Crate</a>
                </li>
                <li class="">
                    
    <a class="" href="admin/grafana/">Grafana</a>
                </li>
    </ul>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href=".">QuantumLeap</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".">Docs</a> &raquo;</li>
    
      
    
    <li>Home</li>
    <li class="wy-breadcrumbs-aside">
      
        <a href="https://github.com/smartsdk/ngsi-timeseries-api.git/edit/master/docs/index.md"
          class="icon icon-github"> Edit on GitHub</a>
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="quantumleap">QuantumLeap</h1>
<h2 id="overview">Overview</h2>
<p>QuantumLeap is the first implementation of an API that supports the storage of
NGSI <a href="http://docs.orioncontextbroker.apiary.io/#">FIWARE NGSIv2</a> data into a
<a href="https://en.wikipedia.org/wiki/Time_series_database">time-series database</a>,
known as <a href="https://app.swaggerhub.com/apis/smartsdk/ngsi-tsdb/0.1">ngsi-tsdb</a>.</p>
<p>In the end, it has similar goals to those of <a href="https://fiware-sth-comet.readthedocs.io/en/latest/">FIWARE's Comet STH</a>.
However, Comet does not yet support NGSIv2, it's strongly tied to MongoDB, and
some of the conditions and constraints under which it was developed are no
longer hold. That being said, there is nothing wrong with it; this is just an
exploration on a new way to provide historical data for FIWARE NGSIv2 with
different time-series databases as backend.</p>
<p>The idea is to keep the time-series database swappable so as to look forward to
having support for different ones. We started testing
<a href="https://docs.influxdata.com/influxdb/">InfluxDB</a>, <a href="https://www.rethinkdb.com/docs/">RethinkDB</a>
and <a href="http://www.crate.io">Crate</a>. However, we have decided for now to focus the
development on the translator for <a href="http://www.crate.io">Crate</a> because of the
following advantages:</p>
<ul>
<li>Easy scalability with <a href="https://crate.io/docs/crate/guide/en/latest/deployment/containers/index.html">containerised database cluster</a>
out of the box.</li>
<li><a href="https://crate.io/docs/crate/reference/en/latest/general/dql/geo.html">Geo-queries</a>
support out of the box</li>
<li>Nice <a href="https://crate.io/docs/crate/reference/en/latest/sql/index.html">SQL-like querying language</a>
to work with</li>
<li><a href="https://grafana.com/plugins/crate-datasource/installation">Supported integration</a>
with visualisation tools like <a href="http://www.grafana.com">Grafana</a></li>
</ul>
<h2 id="typical-usage-and-how-it-works">Typical Usage and How it works</h2>
<p>The typical usage scenario for QuantumLeap would be the following (notice the
numbering of the events)...</p>
<p><img alt="QL Architecture" src="./rsrc/architecture.png" /></p>
<p>The idea of <strong>QuantumLeap</strong> is pretty straightforward. By leveraging on the <a href="http://fiware-orion.readthedocs.io/en/latest/user/walkthrough_apiv2/index.html#subscriptions">NGSIv2 notifications mechanism</a>,
clients first create an Orion subscription <strong>(1)</strong> to notify QuantumLeap of the
changes in the entities they care about. This can be done either through
<em>QuantumLeap</em>'s API or directly talking to <em>Orion</em>. Details of this process are
explained in the <a href="user/#orion-subscription">Orion Subscription part of the User Manual</a>.</p>
<p>Then, new values arrive in <a href="https://fiware-orion.readthedocs.io">Orion Context Broker</a>
<strong>(2)</strong> for the entities of interest, for example from a whole <strong>IoT layer</strong>
governed by 1 or more <a href="https://catalogue.fiware.org/enablers/backend-device-management-idas">IoT Agents</a>
pushing data in NGSI format. Consequently, notifications will arrive to
QuantumLeap's API <a href="https://app.swaggerhub.com/apis/smartsdk/ngsi-tsdb/0.1#/input/reporter.reporter.notify">/v2/notify</a>
endpoint <strong>(3)</strong>.</p>
<p>QuantumLeap's <strong>Reporter</strong> submodule will parse and validate the received
notification and eventually feed it to the configured <strong>Translator</strong>. The
Translator is ultimately responsible for persisting the NGSI information to the
configured times-series database cluster.</p>
<p>The current API includes some endpoints for raw and aggregated data retrieval
<strong>(4)</strong> for clients to query historical data. It also supports deletion of
historical records. Please note not all endpoints are currently implemented in
QL. For more info about the API, you can refer to the
<a href="https://app.swaggerhub.com/apis/smartsdk/ngsi-tsdb/0.1">NGSI-TSDB specification</a>.</p>
<p>For the visualisation of data <strong>(5)</strong>, at the time being we are using
<a href="http://grafana.com/">Grafana</a>, complemented with open source plugins for the
databases. In the future, we could envision a grafana plugin for direct
interaction with QL's API.</p>
<h2 id="more-information">More information</h2>
<ul>
<li>Refer to the <a href="admin/">Admin Guide</a> to learn more about installing
QuantumLeap and getting it running.</li>
<li>Refer to the <a href="user/">User Manual</a> to learn more about how to use it
and connect it to other complementary services.</li>
<li>Have a look at the <a href="http://guided-tour-smartsdk.readthedocs.io/en/latest/">SmartSDK guided tour</a>
for more examples of QuantumLeap usage.</li>
</ul>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="user/" class="btn btn-neutral float-right" title="Introduction">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/smartsdk/ngsi-timeseries-api.git/" class="fa fa-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
      
        <span style="margin-left: 15px"><a href="user/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '.';</script>
    <script src="./js/theme.js"></script>
      <script src="./search/require.js"></script>
      <script src="./search/search.js"></script>

</body>
</html>

<!--
MkDocs version : 0.17.5
Build Date UTC : 2018-07-11 11:46:46
-->

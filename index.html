<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="An NGSI to TSDB Adapter to allow processing of Historical Data.">
  
  <link rel="shortcut icon" href="./img/favicon.ico">
  <title>Home - QuantumLeap</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="./css/theme.css" type="text/css" />
  <link rel="stylesheet" href="./css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="./css/highlight.css">
  <link href="https://fiware.org/style/fiware_readthedocs.css" rel="stylesheet">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Home";
    var mkdocs_page_input_path = "index.md";
    var mkdocs_page_url = "/";
  </script>
  
  <script src="./js/jquery-2.1.1.min.js"></script>
  <script src="./js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="./js/highlight.pack.js"></script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="." class="icon icon-home"> QuantumLeap</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="./search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1 current">
		
    <a class="current" href=".">Home</a>
    <ul class="subnav">
            
    <li class="toctree-l2"><a href="#quantumleap">QuantumLeap</a></li>
    
        <ul>
        
            <li><a class="toctree-l3" href="#typical-usage-and-how-it-works">Typical Usage and How it works</a></li>
        
        </ul>
    

    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">User & Programmers Manual</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="user/">Introduction</a>
                </li>
                <li class="">
                    
    <a class="" href="user/troubleshooting/">Troubleshooting</a>
                </li>
                <li class="">
                    
    <a class="" href="user/contributing/">Contributing</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Installation & Administration Manual</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="admin/">Introduction</a>
                </li>
                <li class="">
                    
    <a class="" href="admin/ports/">Ports</a>
                </li>
                <li class="">
                    
    <a class="" href="admin/crate/">Crate</a>
                </li>
                <li class="">
                    
    <a class="" href="admin/grafana/">Grafana</a>
                </li>
    </ul>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href=".">QuantumLeap</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".">Docs</a> &raquo;</li>
    
      
    
    <li>Home</li>
    <li class="wy-breadcrumbs-aside">
      
        <a href="https://github.com/smartsdk/ngsi-timeseries-api.git/edit/master/docs/index.md"
          class="icon icon-github"> Edit on GitHub</a>
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="quantumleap">QuantumLeap</h1>
<p>QuantumLeap is an API that supports the storage of NGSI <a href="http://docs.orioncontextbroker.apiary.io/#">FIWARE NGSIv2</a> data into a <a href="https://en.wikipedia.org/wiki/Time_series_database">time series database</a>.</p>
<p>In the end, its goals are similar to those of <a href="https://fiware-sth-comet.readthedocs.io/en/latest/">FIWARE's Comet STH</a>. However, Comet does not yet support NGSIv2, it's tied to MongoDB, and some of the conditions and constraints under which it was developed are no longer hold. That being said, there is nothing wrong with it; this is just an exploration on a new way to provide historical data for FIWARE NGSIv2 with different timeseries databases as backend.</p>
<p>The idea is to keep the translator phase swapable so as to look forward to having support for different timeseries databases. We started testing <a href="https://docs.influxdata.com/influxdb/">InfluxDB</a>, <a href="https://www.rethinkdb.com/docs/">RethinkDB</a> and <a href="http://www.crate.io">Crate</a>. However, we have decided for now to focus on the NGSIv2-CrateDB translator because we find in <a href="http://www.crate.io">Crate</a> the following advantages:</p>
<ul>
<li>Easy scalability with containerized database cluster out of the box</li>
<li>Geo-queries support out of the box</li>
<li>Nice SQL-like querying language to work with</li>
<li>Supported integration with visualization tools like <a href="http://www.grafana.com">Grafana</a></li>
</ul>
<h2 id="typical-usage-and-how-it-works">Typical Usage and How it works</h2>
<p>The typical usage scenario for QuantumLeap would be the following:</p>
<p><img alt="Alt text" src="http://www.gravizo.com/svg?%23%20Convert%20the%20following%20to%20png%20using%20http://www.gravizo.com/%23converter.;@startuml;skinparam%20componentStyle%20uml2;!define%20ICONURL%20https://raw.githubusercontent.com/smartsdk/architecture-diagrams/master/dist;!includeurl%20ICONURL/common.puml;!includeurl%20ICONURL/fiware.puml;!includeurl%20ICONURL/smartsdk.puml;interface%20NGSI;FIWARE%28cb,%22Orion%20\nContext%20Broker%22,component%29;package%20%22IoT%20Layer%22%20{;%20%20%20%20FIWARE%28iota,%22IoT%20Agent%22,component%29;};iota%20-up-%20NGSI;[Client]%20-left-%20NGSI;NGSI%20-up-%20cb;[Client]%20%221%22%20-up-%3E%20cb;iota%20-up-%3E%20%222%22%20cb;package%20%22QuantumLeap%22%20{;SMARTSDK%28api,%22API%22,component%29;SMARTSDK%28reporter,%22Reporter%22,component%29;SMARTSDK%28translator,%22Translator%22,component%29;api%20-up-%20NGSI;%20%20%20%20cb%20%223%22%20-down-%3E%20api;api%20%3C-down-%3E%20translator;api%20-down-%3E%20reporter;reporter%20-right-%3E%20translator;%20%20%20%20[Client]%20%224%22%20%3C-down-%3E%20api;};[DB%20Cluster]%20%3C-left-%20translator;[Grafana]%20%3C-down-%20[DB%20Cluster];[Client]%20%225%22%20%3C-down-%20[Grafana];@enduml;" /></p>
<p>The idea of <strong>QuantumLeap</strong> is pretty straightforward. By leveraging on the <a href="http://fiware-orion.readthedocs.io/en/latest/user/walkthrough_apiv2/index.html#subscriptions">notifications mechanism</a>, clients instruct Orion <strong>(1)</strong> to notify QuantumLeap of the changes in the entities they care about. Details of this process are explained in the <a href="user/#orion-subscription">Orion Subscription part of the User Manual</a>.</p>
<p>There is typically a whole <strong>IoT layer</strong> governed by 1 or more <a href="https://catalogue.fiware.org/enablers/backend-device-management-idas">IoT Agents</a> pushing data in NGSI format to the <strong><a href="https://fiware-orion.readthedocs.io">Orion Context Broker</a></strong> <strong>(2)</strong>.</p>
<p>Notifications will arrive to QuantumLeap's API <code>/notify</code> endpoint <strong>(3)</strong>. Its <strong>Reporter</strong> submodule will parse and validate the notification and eventually feed it to the configured <strong>Translator</strong>. The Translator is ultimately the responsible for persisting the NGSI information to the configured times-series database cluster.</p>
<p>In addition to the <code>/notify</code> endpoint, the API is planned to include NGSI endpoints for advanced raw and aggregated data retrieval <strong>(4)</strong> for clients to query historical data.</p>
<p>For the visualisation of data <strong>(5)</strong> at the time being we are experimenting with <a href="http://grafana.com/">Grafana</a> complemented with open source plugins for the databases. In the future, we could envision a plugin for direct interaction with the <em>query</em> API.</p>
<h3 id="more-information">More information</h3>
<ul>
<li>Refer to the <a href="admin/">Admin Guide</a> for info on how to install QuantumLeap and get it running.</li>
<li>Refer to the <a href="user/">User Manual</a> for more info on how to use it.</li>
</ul>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="user/" class="btn btn-neutral float-right" title="Introduction">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/smartsdk/ngsi-timeseries-api.git/" class="fa fa-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
      
        <span style="margin-left: 15px"><a href="user/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '.';</script>
    <script src="./js/theme.js"></script>
      <script src="./search/require.js"></script>
      <script src="./search/search.js"></script>

</body>
</html>

<!--
MkDocs version : 0.17.2
Build Date UTC : 2018-01-23 16:35:57
-->
